## HTTP/2 

> HTTP/2 λ” HTTP ν”„λ΅ν† μ½μ μ£Όμ” κ°μ •νμ…λ‹λ‹¤,<br>
> HTTP/2λ” ν—¤λ”μ••μ¶•μ„ ν†µν•΄ νΈλν”½μ„ λ³΄λ‹¤ ν¨μ¨μ μΌλ΅ μ „μ†΅ν•κ³  κ° μ”μ²­μ— μ¤‘μ”λ„λ¥Ό λ¶€μ—¬ν•  μ μκ² λμ—μΌλ©°, μ„λ²„κ°€ μ”μ²­λ°›μ§€ μ•μ€ λ¦¬μ†μ¤λ“¤λ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ³΄λ‚Ό μ μλ„λ΅ 
> μ„λ²„ ν‘Έμ‹μ— λ€ν• μ§€μ›μ΄ μ¶”κ°€λμ—λ‹¤.

--- 

### π± κΈ°λ³Έ μ„¤μ •

```shell
server {
  # http2 μ§€μ‹μλ¥Ό μ‘μ„±ν•΄μ¤μ•Ό μ‚¬μ© κ°€λ¥ν•λ‹¤.
  listen 443 ssl http2 default_server;
  ssl_certificate server.cert;
  ssl_certificate_key server.key;
  
  #...
}
```

---

### π± gRPC

grpc_pass μ§€μ‹μλ¥Ό μ‚¬μ©ν•μ—¬ μ—”μ§„μ—‘μ¤κ°€ μ‚¬μ©μ μ”μ²­μ„ gRPCλ΅ λ‹¤λ£¨λ„λ΅ ν•  μ μλ‹¤.
μ”μ²­ μ„λ²„ μ΄λ¦„ μ•μ— grpc://λ¬Έμμ—΄μ„ μ‘μ„±ν•μ§€ μ•μ•„λ„ λ¬΄λ°©ν•μ§€λ§ , μ„λ²„μ™€μ ν†µμ‹ μ΄
μ•”νΈν™”λμ§€ μ•μ•μμ„ μ§μ ‘μ μΌλ΅ λ‚νƒ€λ‚΄κ² λλ‹¤.

μ—”μ§„μ—‘μ¤κ°€ μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„λ΅ ν–¥ν•λ” gRPC ν†µμ‹ μ— μΆ…λ‹¨κ°„ νΈλν”½ μ•”νΈν™”λ¥Ό μ κ³µν•λ„λ΅ ν•λ ¤λ©΄ 
grpc_pass μ§€μ‹μκ°€ grpcs://λ¥΄ γ„Ήμ‚¬μ©ν•λ„λ΅ μμ •ν•λ©΄ λλ‹¤.
httpsμ²λΌ λ³΄μ•ν†µμ‹ μ„ λ‚νƒ€λ‚΄λ” s λ¥Ό μ¶”κ°€ν–λ‹¤λ” μ μ΄ μλ‹¤.

---

### π± HTTP/2 μ„λ²„ ν‘Έμ‹

ν΄λΌμ΄μ–ΈνΈμ—κ² μ½ν…μΈ λ¥Ό μ¦‰μ‹ μ „μ†΅ν•κΈ° μ„ν•΄μ„λ” μ—”μ§„μ—‘μ¤μ HTTP/2 μ„λ²„ ν‘Έμ‹ κΈ°λ¥μ„ μ‚¬μ©ν•λ‹¤.

HTTP/2 μ„λ²„ ν‘Έμ‹λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” http2_push μ§€μ‹μλ¥Ό μ‚¬μ©ν•  μ μμΌλ©° λ‹¤μκ³Ό κ°™μ΄ μ„¤μ •ν•λ©΄λλ‹¤.

μΆ€λ” μƒμ„Έν•κ² μ„¤λ…ν•μλ©΄, ν΄λΌμ΄μ–ΈνΈκ°€ ν•΄λ‹Ή λ¦¬μ†μ¤μ— λ€ν•΄μ„ μ”μ²­ν•μ§€ μ•μ•„λ„ μ„λ²„κ°€ λ―Έλ¦¬ ν•΄λ‹Ή λ¦¬μ†μ¤λ¥Ό λ³΄λ‚΄μ£Όλ” κΈ°λ¥μ΄λ‹¤.<br>
ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„λ” λ¦¬μ†μ¤λ¥Ό μ”μ²­ν•κΈ°μ „μ— λ―Έλ¦¬ μ„λ²„μ—μ„ λ°›μ•„λ†“μ•κΈ°λ•λ¬Έμ— νμ΄μ§€ λ΅λ”©μ†λ„κ°€ λΉ¨λΌμ§„λ‹¤.

```shell
server {
 
 #...  μƒλµ
 # HTTP/2 μ„λ²„ ν‘Έμ‹λ” λ³΄μ•λ•λ¬Έμ— HTTPS ν”„λ΅ν† μ½μ—μ„λ§ μ‚¬μ© κ°€λ¥. 
 location = /demo.html {
   http2_push /style.css;
   http2_push /image.jpg;
 } 
}
```

μ£Όμν•΄μ•Όν•  μ μ€ HTTP/2 μ„λ²„ ν‘Έμ‹λ¥Ό μ‚¬μ©ν•λ©΄ λ―Έλ¦¬ λ³΄λ‚΄λ†“κΈ° λ•λ¬Έμ— λ΅λ”©μ†λ„λ¥΄ γ„Ήν–¥μƒμ‹ν‚¬ μ μκ³ , μ‚¬μ©μ κ²½ν—μ„
κ°μ„ ν•  μ μμ§€λ§, μ μ ν• μ „λµμ΄ μ—†μ΄ λ¶ν•„μ”ν• λ¦¬μ†μ¤λ¥Ό PUSH ν•κ² λλ©΄ μ¤νλ ¤ λ΅λ”© μ†λ„λ¥Ό λ¦μ¶ μ μλ‹¤.


