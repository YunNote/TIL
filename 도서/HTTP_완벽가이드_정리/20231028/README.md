# 14장 보안 HTTP

---

## HTTP를 안전하게 만들기

웹이 발전해가면서 점차 웹에서 다양한 경험을 제공한다. 따라서 보다 이식성이 좋아야 하고, 관리가 쉬워야 하며, 다양한 변화에 대한
적응력이 좋아야 한다. 따라서 HTTP보안기술이 필요하다.

- 서버 인증 : 클라이언트는 자신이 위조된 서버가 아닌 진짜와 이야기하고 있음을 알 수 있어야 한다.
- 클라이언트 인증 : 서버는 자신이 가짜가 아닌 진짜 사용자와 이야기 하고있음을 알아야 한다.
- 무결성 : 클라이언트와 서버는 그들의 데이터가 위조되는 것으로부터 안전해야한다.
- 암호화 : 클라이언트와 서버는 도청에대한 걱정 없이 서로 대화할 수 있어야 한다.
- 효율 : 저렴한 클라이언트나 서버도 이용할 수 있도록 알고리즘은 충분히 빨라야 한다.
- 편재성 : 프로토콜은 거의 모든 클라리언트와 서버에서 지원되어야 한다.
- 관리상확장성 : 누구든 어디서든 즉각적인 보안 통신을 할 수 있어야 한다.
- 적응성 : 현재 알려진 최신의 보안 방법을 지원해야 한다.
- 사회적 생존성 : 사회의 문화적 정치적 요구를 만족해야한다.

---

### HTTPS 

> HTTPS는 HTTP를 안전하게 만드는 방식 중에서 가장 인기가 있다. 거의 모든 브라우저와 서버에서 지원한다.<br>
> HTTP가 아닌 HTTP로 접근하고 있는 경우 URl의 프로토콜은 http:// 대신 https://로 시작하는 것을 보고 알 수 있다.

HTTPS를 사용한다면 요청과 응답데이터는 네트워크로 보내기지 전에 암호화 된다.<br>
HTTPS는 HTTP의 하부에 전송 레벨 암호 보안 계층을 제공함으로써 동작하며, 안전 소켓 계층(SSL) 혹은 그를 계승한 전송계층보안(TLS)를
이용하여 구현된다.

SSL과 TLS는 매우 비슷하여 해당 도서에서는 SSL 단어를 사용하기로 한다.

HTTPS의 어려운 인코딩 및 디코딩은 대부분 SSL 라이브러리에서 처리하기때문에 웹 클라이언트와 서버가 프로토콜을 처리하는
로직을 크게 변경할 필요가 없다.

대부분의 경우 입출력호출을 SSL호출로 대체하고 보안 정보를 설정하여 몇가지만 호출하면 된다.

---

## 디지털 암호학 

> 암호법은 메시지를 볼 수 없게 암호활 뿐만 아니라 변조를 방지하기 위해 사용할 수도 있다.
디지털 암호화에서는 다음과 같은 주요 내용이 있다.

1. 암호
2. 키
3. 대칭키 암호 체계
4. 비대칭키 암호 체계
5. 공개키 암호법
6. 디지털 서명
7. 디지털 인증서

---

### 암호(cipher)
> 텍스트를 아무나 읽지 못하도록 인코딩하는 알고리즘 

암호법은 암호라 불리는 비밀 코드를 기반으로 한다. 암호란 메시지를 인코딩하는 특정한 방법과 그 인코딩된 비밀 메시지를
디코딩 하는 방법이다. 

인코딩 되기 전의 데이터를 `평문`이라고 부르며, 암호가 적용되어 코딩된 메시지는 보통 `암호문`이라고 부른다.

> 평문 -> 인코등 -> 암호문 -> 디코등 -> 평문

---

### 암호 기계

초기 암호는 상대적으로 간단한 알고리즘으로 작성되었다. 이유는 사람이 직접 인코딩, 디코딩을 해야했기 때문이다.
따라서 암호가 간단하기 때문에 암호를 깨뜨리는것 또한 쉬웠다.

기술이 발전하면서, 사람들은 보다 복잡한 암호로 메시지르 빠르고 정확하게 인코딩, 디코딩 하는 기계를 만들기 시작하였다.

---

### 키가 있는 암호 

알고리즘과 기계는 해독이 될 수 있기 때문에 대부분의 기계들에는 암호의 동작 방식을 변경할 수 있는 큰 숫자로된
다른 값을 설정할 수 있는 다이얼이 달려있다. 누군가 기계를 훔치더라도 올바른 키가 없이는 디코더가 동작하지 않을것이다.

이러한 암호 매개변수를 `키`라고 부른다. 디코딩을 올바르게 하려면 해당 키를 암호 기계에 입력하면 된다.

---

### 디지털 암호

디지털 계산이 도래하면서 주요한 발전이 두가지 있다.

1. 속도 및 기능에 대한 기계 장치의 한계에서 벗어나서 복잡한 인코딩과 디코딩 알고리즘이 가능해졌다.
2. 큰 키를 지원하는것이 가능해져서, 단일 암호 알고리즘으로 키의 값마다 다른 수조 개의 가상 암호 알고리즘을 만들어낼 수 있게 되었다. 따라서 무작위 추측을 이용한 공격이 어려워졌다.

물리적 키와 달리 디지털 키는 그냥 숫자에 불과하다, 따라서 디지털 키 값은 인코딩과 디코딩
알고리즘에 대한 입력값이다. 

---

## 대칭키 암호법

