## 😊  쿼리 작성과 연관된 시스템 변수 

대 소문자 구분, 문자열 표기 방법 등과 같은 SQL 작성 규칙은 MySQL 서버의 시스템 설정에 따라 달라진다


### 📚 SQL 모드 
MySQL 서버의 sql_mode라는 시스템 설정에는 여러 개의 값이 동시에 설정될 수 있다.<br>
MySQL 서버의 설정 파일에서 sql_mode를 설정할 때는 구분자(,)를 사용하여 키워드를 동시에 설정할 수 있다.

#### - STRICT_ALL_TABLES & STRICT_TRANS_TABLES
> MySQL 서버에서 INSERT나 UPDATE 문장으로 데이터를 변경하는 경우 컬럼의 타입과 저장되는 값의
> 타입이 다를 때 자동으로 타입 변경을 수행한다. 만약 적절하게 변환되기 어렵거나 컬럼에 저장될 값이 없거나, 값의
> 길이가 컬럼의 최대 길이보다 큰 경우 MySQL 서버가 INSERT나 UPDATE문장을 계속 실행할지, 아니면 에러를 발생시킬지를 결정한다.


#### - ANSI_QUOTES
> MySQL에서는 문자열값을 표현하기 위해 홑따옴표와 쌍따옴표를 동시에 사용할 수 있다.<br>
> ANSI_QUOTES 설정을 하면 문자열 값 표기로 홑따옴표만 사용할 수 있고, 쌍따옴표로는 컬럼명이나 테이블 명과 같은 식별자를 표기하는 데만 사용할 수 있다.

#### - ONLY_FULL_GROUP_BY
> GROUP BY 절에 포함되지 않는 컬럼이더라도 집합 함수의 사용 없이 그대로 SELECT 절이나 HAVING절에 사용할수 있지만. 해당 설정을 통해 문법에 조금 더 엄격한 규칙을 적용한다.<br>
> MySQL 5.7에서는 해당 옵션이 기본적으로 비활성화 되어있지만 8.0이상부터는 기본적으로 활성화 되어있다. 

#### - PIPE_AS_CONCAT
> `||`는 or 연산자와 같은 의미로 사용된다. 하지만 sql_mode 시스템 변수에서 해당 값을 설정하면 오라클과 같이 문자열 연견 연산자로 사용할 수 있다.

#### - PAD_CHAR_TO_FULL_LENGTH
> CHAR타입이더라도 문자열을 가져올때 뒤의 공백 문자는 제거되어 반환된다. 하지만 CHAR타입의 컬럼값을 가져올 때 뒤쪽의 공백이
> 제거되지 않고 반환돼야 한다면 sql_mode 시스템 설정에 `PAD_CHAR_TO_FULL_LENGTH`를 추가하게 되면 공백을 포함해서 가져온다.


#### - NO_BACKSLASH_ESCAPES
> 역슬래시 문자를 이스케이프 문자로 사용할 수 있다. sql_mode 시스템 설정에 NO_BACKSLASH_ESCAPES를 추가하면 역슬래시를 문자의 이스케이프
> 용도로 사용하지 못한다.

#### - IGNORE_SPACE
> 스토어 프로시저나 함수의 이름 뒤에 공백이 딨다면 `스토어드 프로시저나 함수가 없습니다` 라는 에러가 출력될 수도 있다.<br>
> sql_mode 시스템 변수에 `IGNORE_SPACE`를 추가하면 프로시저나 함수명과 괄호 사이의 공백은 무시한다.


#### - REAL_AS_FLOAT
> 서버에서 부동 소수점 타입은 FLOAT과 DOUBLE 타입이 지원이 된다, REAL타입은 DOUBLE타입의 동의어로 사용된다.
> 하지만 해당 옵션을 활성화하게 되면 MySQL 서버는 REAL이라는 타입이 FLOAT타입의 동의어로 바뀐다.

#### - NO_ZERO_IN_DATE & NO_ZERO_DATE
> 해당 두 옵션이 활성화 되면 MySQL 서버는 DATE 또는 DATETIME 타입의 컬럼에 "2020-00-00" or "0000-00-00"과 같은
> 잘못된 날짜를 저장하는 것이 불가능해진다.<br>
> 이처럼 실제 존재하지 않는 날짜를 저장하지 못하게 하려면 해당 옵션을 활성화하면된다.

#### - ANSI
> 해당 설정은 여러가지 옵션을 조합하여 MySQL 서버가 최대한 SQL 표준에 맞게 동작하게 만들어준다.<br>
> ANSI모드는 "REAL_AS_FLOAT,PIPES_AS_CONCAT,ANSI_QUOTES"와 같은 조합으로 구성된 모드이다.

#### - TRADITIONAL
> STRICT_TRANS_TABLES나 STRICT_ALL_TABLES와 비슷하지만 조금 더 엄격한 방법으로 SQL의 작동을 제어한다.<br>
> `TRADITIONAL`모드는 `STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION`모드의 조합으로 구성된 모드이다.<br>
> 해당모드가 활성화되면 활성 모드가 아닐 때 경고로 처리되던 상황이 모두 에러로 변경되고 SQL문이 실패한다.

---

### 📚 영문 대소문자 구분

MySQL 서버는 설치된 운영체제에 따라 테이블명의 대소문자를 구분한다. DB나 테이블이 디스크의 디렉터리나 파일로 매핑되기 떄문이다.

>#### 윈도우</b> - 대소문자를 구분하지 않는다.<br>
>#### 유닉스 계열 - 대소문자를 구분한다.

윈도우에서 운영되는 MySQL 데이터를 리눅스로 가져오거나 그 반대의 경우 문제가 되기도 한다.<br>
따라서 대 소문자 구분의 영향을 받지 않게 하려면 MySQL 서버의 설정 파일에 `lower_case_table_names` 시스템 변수를 설정하면 된다.

해당 변수르 1로 설정하면 모두 소문자로만 저장 되고, MySQL 서버가 대소문자를 구분하지 않게 해준다.<br>
해당 설정의 기본값은 0으로, DB나 테이블명에 대해 대소문자를 구분한다.<br>

또한 윈도우와 macOS에서는 2를 설정할 수도 있는데. 해당 경우에는 대소문자를 구분하지만 쿼리에서는 대소문자를 구분하지 않게 해준다.<br>
이러한 설정 자체를 떠나 가능하면 초기 DB나 테이블을 생성할 때 대문자 또는 소문자만으로 통일해서 사용하는것이 좋다.


---

